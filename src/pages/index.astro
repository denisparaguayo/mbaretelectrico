---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/home/Hero.astro';
import ProductCard from '../components/ProductCard.astro';
import { getCollection } from 'astro:content';

const productos = await getCollection('productos');
const destacados = productos.filter((p) => p.data.destacado).slice(0, 8);
---

<BaseLayout
	title="Mbarete Eléctrico"
	description="Materiales eléctricos y herramientas online en Asunción y Central.">
	<Hero />

	<section class="mt-8">
		<div class="flex items-end justify-between gap-3">
			<h2 class="text-xl font-black">Destacados</h2>
			<a
				class="text-sm font-bold text-[var(--text2)] hover:underline"
				href="/catalogo">
				Ver todo →
			</a>
		</div>

		<div
			class="mt-4 grid gap-3 sm:gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4">
			{destacados.map((p) => <ProductCard p={p} />)}
		</div>
	</section>
</BaseLayout>
